# This is a basic workflow to get started with actions.
name: CI

# Controls when the action will you runs.
on:
  # Trigger the workflow when push or pull request event happens only for main branch.
  push:
    branches: [main]
  pull_request:
    branches: [main]
      
  # Allow you to run this workflow manually from the action tab
  workflow_dispatch:

# A workflow run is made up of one or more jobs that can run sequentially or in parallel
jobs:
  # This workflow contains a single job called 'build'
  build:
    
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout
      uses: actions/checkout@v2
         
    - name: Restore Cache   
      uses: actions/cache@v2
      with:
        path: |
          ~/.gradle/caches
          ~/.gradle/wrapper
        key: ${{ runner.os }}-gradle-${{ hashFiles('**/*.gradle*', '**/gradle-wrapper.properties') }}
        restore-keys: ${{ runner.os }}-gradle-
         
    - name: Assemble Debug
      run: ./gradlew assembleDebug
